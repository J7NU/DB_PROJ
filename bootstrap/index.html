<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>지누은행</title>
    <!-- Favicon-->
    <link rel="icon" type="image/svg"
        href="https://raw.githubusercontent.com/J7NU/django_Ato_Z/504f2afdbcd1e394be13353b492a1238ae9be1c6/logo.svg" />
    <!-- Custom Google font-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
        rel="stylesheet" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body class="d-flex flex-column h-100">
    <main class="flex-shrink-0">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light bg-white py-3">
            <div class="container px-5">
                <a class="navbar-brand" href="index.html">
                    <img src="https://raw.githubusercontent.com/J7NU/django_Ato_Z/504f2afdbcd1e394be13353b492a1238ae9be1c6/logo.svg"
                        alt="지누은행" width="100" height="68">
                </a>

            </div>
        </nav>
        <!-- Header-->
        <header class="py-5">
            <div class="container px-5 pb-5">
                <div class="row gx-5 align-items-center">
                    <div class="col-xxl-5">
                        <!-- Header text content-->
                        <div class="text-center text-xxl-start">
                            <form method="post" id="login_form" name="login_form" action=login_ok.php
                                autocomplete="off">
                                <h1 class="h3 mb-3 fw-normal fw-bold">Welcome!</h1>
                                <div class="form-floating">
                                    <input type="text" class="form-control" name="acc" id="acc"
                                        placeholder="XXX-XXXXXXX-XXXX">
                                    <!-- 계좌번호 placeholder를 통해 입력예시 보여주기 -->
                                    <label for="floatingInput">계좌번호 EX. XXX-XXXXXXX-XXXX</label>
                                </div>
                                <div class="form-floating">
                                    <input type="password" class="form-control" name="pw" id="pw"
                                        placeholder="Password">
                                    <label for="floatingPassword">비밀번호</label>
                                </div>
                                <div class="form-check text-start my-3">
                                    <input class="form-check-input fw-bold" type="checkbox" value="remember-me"
                                        id="flexCheckDefault">
                                    <label class="form-check-label fw-bold" for="flexCheckDefault">
                                        로그인 상태 유지
                                    </label>
                                </div>
                                <button class="btn btn-primary w-100 py-2 fw-bold" type="button" id="login_btn">Sign
                                    In</button>
                            </form>
                            <script>
                                // 아이디 비번 공란 방지용
                                const login_btn = document.querySelector("#login_btn");
                                login_btn.addEventListener("click", () => {
                                    const acc = document.querySelector("#acc");
                                    const pw = document.querySelector("#pw");
                                    if (acc.value == "") {
                                        alert('아이디를 입력해주세요.');
                                        d.focus();
                                        return false;
                                    }
                                    if (pw.value == "") {
                                        alert('비밀번호를 입력해주세요.');
                                        pw.focus();
                                        return false;
                                    }

                                    const xhr = new XMLHttpRequest();
                                    xhr.open("POST", "./login_ok.php", true);

                                    const login_form = document.querySelector("#login_form");
                                    const f1 = new FormData(login_form);

                                    xhr.send(f1);


                                    xhr.onload = () => {
                                        if (xhr.status == 200) {
                                            const data = JSON.parse(xhr.responseText);
                                            if (data.result == 'success') {
                                                alert('로그인 성공');
                                                self.location.href = './dashboard.html';
                                            } else if (data.result == 'fail') {
                                                alert('로그인 실패');
                                            }
                                        } else {
                                            alert('통신에 실패했습니다.');
                                        }
                                    }

                                });
                            </script>
                        </div>
                    </div>
                    <div class="col-xxl-7">
                        <!-- Header profile picture-->
                        <div class="d-flex justify-content-center mt-5 mt-xxl-0">
                            <img class="logo-svg"
                                src="https://raw.githubusercontent.com/J7NU/django_Ato_Z/504f2afdbcd1e394be13353b492a1238ae9be1c6/logo.svg"
                                alt="지누은행 로고" width="345.66" height="222">
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </main>
    <!-- Footer-->
    <footer class="bg-white py-4 mt-auto">
        <div class="container px-5">
            <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                <div class="col-auto">
                    <div class="small m-0 fw-bold">Copyright &copy; Hyunni</div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
</body>

</html>